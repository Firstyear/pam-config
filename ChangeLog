2008-03-03  Michael Calmer  <mc@suse.de>
	* release version 0.51

	* src/mod_pam_krb5.c: easier configuration for pam_krb5 
	                      ACCOUNT section
	* src/mod_pam_krb5.c: do not use use_authtok in PASSWORD
	                      section

2008-02-13  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.50

	* src/mod_pam_time.c: New.

	* src/mod_pam_group.c: New.

	* src/mod_pam_krb5.c: Use generic parser, getopt and write
	functions.
	* src/mod_pam_lastlog.c: Likewise.
	* src/mod_pam_ldap.c: Likewise.
	* src/mod_pam_limits.c: Likewise.
	* src/mod_pam_localuser.c: Likewise.
	* src/mod_pam_loginuid.c: Likewise.
	* src/mod_pam_mkhomedir.c: Likewise.
	* src/mod_pam_mount.c: Likewise.
	* src/mod_pam_nam.c: Likewise.
	* src/mod_pam_pkcs11.c: Likewise.
	* src/mod_pam_thinkfinger.c: Likewise.
	* src/mod_pam_winbind.c: Likewise.
	* src/mod_pam_umask.c: Likewise.
	* src/mod_pam_unix.c: Likewise.
	* src/mod_pam_unix2.c: Likewise.

2008-02-12  Thorsten Kukuk  <kukuk@suse.de>

	* src/mod_pam_apparmor.c: Use generic parser, getopt and write
	function.
	* src/mod_pam_ccreds.c: Likewise.
	* src/mod_pam_ck_connector.c: Likewise.
	* src/mod_pam_cracklib.c: Likewise, add all missing options.
	* src/mod_pam_env.c: Likewise.
	* src/mod_pam_make.c: Likewise.

	* src/pam-module.c: Add lot of new functions for config parsing
	and getopt handling.

	* src/pam-module.h: Add lot of new macros.

2007-11-23  Michael Calmer <mc@suse.de>

	* release version 0.27

	* src/pam-config.c: move write_config after sanitize_check calles

2007-11-14  Michael Calmer <mc@suse.de>

	* release version 0.26

	* src/pam-config.c: add --ldap-account_only option
	* src/sanity_checks.c: add check - ldap-account_only is
	only allowed if krb5 is configured.
	* src/pam-config.8.xml: Adapted manpage.
	* tests/testcases/test-ldap-account_only.single: New
	* tests/single.out/test-ldap-account_only.err: New
	* tests/single.out/test-ldap-account_only.out: New

2007-11-12  Michael Calmer <mc@suse.de>

	* release version 0.25
	* src/mod_pam_krb5.c: fix missconfiguration of pam_krb5 [#335521]

2007-10-31  Sven Schober <sschober@suse.de>

	* src/pam-config.c: Do not check for installed pam-module on
	delete request [#337369].

2007-10-25  Sven Schober <sschober@suse.de>

	* release version 0.24

	* configure.in: added 'tests/etc/Makefile' to AC_OUTPUT
	* tests/etc/Makefile.am: New. Introduced to avoid packaging
	'.svn' directory.
	* tests/testcases/test-ck_connector2.single: Pipe cmd output
	to /dev/null to achieve location independency (test case
	would fail on different machines/paths).

2007-10-15  Michael Calmer <mc@suse.de>

	* src/mod_pam_thinkfinger.c: Use dynamic confdir
	parameter.
	* src/pam-config.c: Use dynamic confdir parameter.
	* src/single_config.c: fix endless loop if a module exists
	twice in a config file [#328519]. Added some debug
	statements.
	* tests/testcases/test-ck_connector2.single: Test case for
	bug[#328519].

2007-08-30  Sven Schober <sschober@suse.de>

	* src/mod_pam_thinkfinger.c: check return value of asprintf.
	* tests/Makefile.am: Mention testcases/, support/, config/
	and pam-config.test/ in EXTRA_DIST.
	* src/pam-config.c: Issue warning in relink() if old common-*
	file is not found.
	* load_obsolete_conf.c: Issue warnings if
	/etc/security/pam_{pwcheck,unix2}.conf files not found.

2007-08-28  Sven Schober <sschober@suse.de>

	* src/pam-config.c: Fix bug where common-{auth,...} links wouldn't be
	created if files of the same name didn't exist already.
	* tests/single.out/test-mount-thinkfinger.err: New.
	* tests/single.out/test-mount-thinkfinger.out: New.
	* tests/testcases/test-mount-thinkfinger.single: New
	testcase to check for pam_{mount,thinkfinger}.so mutex.

2007-08-23  Sven Schober <sschober@suse.de>

	* src/pam-config.c: CONFDIR customizable via cmd line
	option.
	* src/pam-config.c: Gather return values from write_config()
	invocations, and return failure in case a single one fails.
	* src/pam-config.h: -- " --
	* src/mod_pam_thinkfinger.c: Heed --confdir option.
	* src/single_config.c: -- " --
	* src/mod_pam_mount.c: -- " --
	* tests/: New testsuite. See tests/README for usage.

2007-08-14  Sven Schober <sschober@suse.de>

	* release version 0.23
	* src/pam-config.8.xml: Added documentation for
	pam_thinkfinger.so
	* src/mod_pam_thinkfinger.c: New.
	* src/pam-config.c: Added options for pam_thinkfinger.so.
	* src/mod_pam_mount.c: Added mutex with pam_thinkfinger.so.
	* src/supported-modules.h: Added pam_thinkfinger.so to
	common_module_list and auth stack.
	* src/write_config.c: Fix bug, where write_config() would
	not gather correct result from module->write_config()
	invocations.
	* src/Makefile.am: Added mod_pam_thinkfinger.c.

2007-08-14  Sven Schober <sschober@suse.de>

	* release version 0.22

2007-08-09  Sven Schober <sschober@suse.de>

	* src/mod_pam_ck_connector.c: Check return value of
	asprintf.
	* src/pam-config.h: Adapted documentation to reflect changes
	to insert_if().
	* src/mod_pam_cryptpass.c: Fixed write_config_cryptpass to
	retrieve both SESSION and PASSWORD option sets. This enables
	us to treat the two stack types differently.
	* src/pam-config.c: Added option --cryptpass-password.
	* src/single_config.c: sanitized insert_if() return value.
	* src/pam-config.8.xml: Adapted manpage.

2007-08-07  Sven Schober <sschober@suse.de>

	* src/pam-module.h: Externalized service_module_list, so
	single service modules are able to check for other modules.
	* src/single_config.c: Refactored list operations on
	config_content_t lists. Added remove_module() function,
	insert_if() takes position hint as last parameter.
	* src/pam-config.h: Reflect signature change of insert_if()
	and add prototype for remove_module().
	* src/mod_pam_cryptpass.c: Module now gets added to the
	password stack, also.
	* src/mod_pam_ck_connector.c: Module support added (single
	service).

2007-07-31  Sven Schober <sschober@suse.de>

	* src/pam-config.8.xml: Overhauled documentation. Added
	description of single service options and gave some usage
	examples.
	* src/pam-config.c: Added "--list-modules" option.

2007-07-27  Sven Schober <sschober@suse.de>

	* src/pam-config.c: Fix for segfault: added check if (single)
	service file exists before beginning to write.
	* src/mod_pam_lastlog.c: Check file pointer before using it.
	* src/single_config.c: Check file pointer before using it and
	print error message if service file can't be 'stat'ed.
	* src/mod_pam_mount.c:  Check file pointer before using it.
	* src/mod_pam_loginuid.c: Check file pointer before using it.
	* src/write_config.c: Call get{g,u}id() for default {g,u}id
	values.

2007-07-27  Thorsten Kukuk <kukuk@suse.de>

	* release version 0.21

	* po/*.po: Add translations

2007-07-24  Sven Schober <sschober@suse.de>

	* src/pam-module.h: Minor modification to debug macro.
	* src/write_config.c: Fixed a bug where uid, gui and st_mode
	where set to unsensible values when file didn't exist yet.

2007-07-23  Sven Schober <sschober@suse.de>

	* src/pam-module.h: Added doxygen documentation.
	* src/single_config.c: Documentation and conveniance
	functions.
	* src/pam-config.c: Changed pam_mount support to single
	service file.
	* src/mod_pam_cryptpass.c: Added support for pam_cryptpass.
	* src/pam-config.h: Added doxygen documentation.
	* src/mod_pam_mount.c: Changed pam_mount support to single
	service file.
	* src/supported-modules.h: --- " ----

2007-07-18  Michael Calmer <mc@suse.de>

	* src/mod_pam_deny.c: New.
	* src/supported-modules.h: Added pam_deny.so.
	* src/mod_pam_krb5.c: If pam_krb5 is the last enabled module add
	a required pam_deny.so to the end of the AUTH section.

2007-07-05  Thorsten Kukuk  <kukuk@suse.de>

	* src/pam-config.8.xml: Remove obsoete xauth entry.

2007-07-05  Sven Schober  <sschober@suse.de>

	* src/mod_pam_unix.c: Changed option "big_crypt" to
	"bigcrypt".
	* src/mod_pam_mount.c: New.
	* src/pam-config.c: Added options for pam_mount.so.
	* src/mod_pam_unix.c: Added support for pam_mount.so:
	"use_first_pass" gets appended if pam_mount.so is enabled.
	* src/mod_pam_unix2.c: same as above.
	* src/pam-config.8.xml: Added documentation for pam_mount.so
	and pam_unix.so.
	* src/supported-modules.h: Added pam_mount.so to
	common_module_list, auth and session list.
	* src/Makefile.am: Added mod_pam_mount.c.

2007-07-04  Sven Schober  <sschober@suse.de>

	* src/mod_pam_unix.c: New.
	* src/sanity_checks.c: Added check for pam_unix/2-conflict
	and fallback to pam_unix2.so.
	* src/pam-config.c: Added options for pam_unix.so.
	* src/supported-modules.h: Added pam_unix.so to
	module-lists.

2007-07-04  Thorsten Kukuk  <kukuk@suse.de>

	* src/mod_pam_loginuid.c: New.
	* src/pam-config.c: Add support for single login files.
	* src/single_config.c: New file.

2007-07-03  Thorsten Kukuk  <kukuk@suse.de>

	* src/mod_pam_pkcs11.c: New.

2007-07-02  Thorsten Kukuk  <kukuk@suse.de>

	* src/write_config.c: New file, combine all old 4 variants.

	* src/Makefile.am: Add mod_pam_apparmor and mod_pam_nam
	* src/supported-modules.h: Likewise.
	* src/mod_pam_apparmor.c: New.
	* src/mod_pam_nam.c: New.
	* src/pam-config.c (main): Convert entries.

	* src/Makefile.am: Add mod_pam_krb5.
	* src/supported-modules.h: Likewise.
	* src/mod_pam_cracklib.c: New.
	* src/pam-config.c (main): Convert pam_krb5 entries.

	* src/mod_pam_krb5.c: New.
	* src/pam-config.c (main): Convert pam_krb5 entries.
	* src/Makefile.am: Add mod_pam_krb5.
	* src/supported-modules.h: Add mod_pam_krb5.

	* src/mod_pam_localuser.c: Implement write function.

	* src/load_obsolete_conf.c: Convert for new interface.

	* src/pam-config.c (main): Convert pam_limits entries.
	* src/mod-pam_limits.c: new.

2007-06-29  Thorsten Kukuk  <kukuk@suse.de>

	* src/mod_pam_env.c: New.
	* src/pam-config.8.xml: Document new pam_nev options.
	* src/pam-config.c (main): Add new pam_env options.

	* src/mod_pam_pwcheck.c: New.
	* src/pam-config.8.xml: Document enforce_for_root option.
	* src/pam-config.c (main): Convert pwcheck options.

	* src/pam-module.h: Add more defines for more options.

	* src/mod_pam_localuser.c: New.

	* src/mod_pam_winbind.c: New.
	* src/supported-modules.h: Add mod_pam_winbind.
	* src/pam-config.c (main): Convert winbind options.
	* src/Makefile.am: Add mod_pam_winbind.c.

	* src/pam-config.c (main): Add --umask-umask option.
	* src/pam-config.8.xml: Document --umask-umask option.
	* src/mod_pam_umask.c: Support umask option.

	* src/pam-module.h (DECLARE_STRING_OPTS_2): Added.

	* src/pam-config.c (main): Support umask and skel for pam_mkhomedir.
	* src/mod_pam_mkhomedir.c: Likewise.

	* src/pam-config.8.xml: Document new pam_mkhomedir options.

2007-06-28  Thorsten Kukuk  <kukuk@suse.de>
	    Sven Schober  <sschober@suse.de>

	* */*: Massive changes for new internal interface.

2007-06-14  Thorsten Kukuk  <kukuk@suse.de>

	* src/load_config.c (print_unknown_option_error): New function
	to simplify translations.

2007-01-29  Thorsten Kukuk  <kukuk@suse.de>

	* src/pam-config.8.xml: Remove NIS references.

2007-01-29  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.15

	* src/pam-config.c (main): Fix -d usage for pwcheck-minlen.
	* src/pam-config.8.xml: Remove --pam_pwcheck-no_minlen.

2007-01-26  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.14

	* src/pam-config.c (main): Allow minlen=0 as pam_pwcheck.so
	option.
	* src/print_module.c (print_module_pwcheck): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.
	* src/pam-config.h: Likewise.

	* src/pam-config.8.xml: Document --pam_pwcheck-no_minlen.

	* src/pam-config.c (main): Support ignore_unknown_principals
	option of pam_krb5.
	* src/pam-config.h: Likewise.
	* src/write_config_account.c (write_config_account): Likewise.
	* src/load_config.c (parse_krb5_options): Likewise.

	* src/pam-config.8.xml: Document new pam_krb5 options.

2006-10-25  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.13

	* src/print_module.c (print_module_cracklib): Fix typo.

	* src/pam-config.h: Add support for pam_capability.
	* src/pam-config.c (main): Likewise.
	* src/print_module.c (print_module_capability): Likewise.
	* src/load_config.c (load_config): Likewise.
	* src/pam-config.8.xml: Likewise.

	* src/write_config_session.c: Make pam_apparmor optional
	[Fate#300510].
	(write_config_session): Write pam_capability entry.

2006-09-20  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.12

	* src/sanity_checks.c (sanitize_check_password): Don't ignore
	debug flag if convert from pam_cracklib to pam_pwcheck.

2006-09-14  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.11

	* src/write_config_session.c (write_config_session): Add support
	for pam_umask.so.
	* src/pam-config.h: Likewise.
	* src/pam-config.c: Likewise.
	* src/pam-config.8.xml: Likewise.
	* src/load_config.c (parse_umask_options): New.
	* src/print_module.c (print_module_umask): New.

	* src/write_config_account.c (write_config_account): In combination
	with pam_ldap, USER_UNKNOWN of pam_krb5 should be ignored.

2006-09-05  Thorsten Kukuk  <kukuk@suse.de>

	* src/pam-config.c (main): Fix first openlog argument.

2006-08-31  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.10

	* src/load_obsolete_conf.c: Don't report error for empty
	arguments.

2006-08-26  Thorsten Kukuk  <kukuk@thkukuk.de>

	* src/pam-config.8.xml: Document --lum, --cracklib* and
	--winbind* options.

	* src/load_obsolete_conf.c (load_obsolete_conf): Check for
	.rpmsave files if original ones are already removed.

2006-08-25  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.9

	* src/pam-config.c (main): Add support for pam_winbind.so.
	* src/pam-config.h: Likewise.
	* src/load_config.c: Likewise.
	* src/load_obsolete_conf.c (parse_option_unix2): Likewise.
	* src/pam-config.h (print_module_winbind): Likewise.
	* src/print_module.c (print_module_winbind): Likewise.
	* src/write_config_auth.c (write_config_auth): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.
	* src/write_config_session.c (write_config_session): Likewise.
	* src/write_config_account.c (write_config_account): Likewise.

	* src/load_obsolete_conf.c (parse_option_unix2): Handle krb5afs
	as krb5.

	* src/pam-config.c (main): Add minimum_uid for krb5.
	* src/pam-config.h: Likewise.
	* src/load_config.c (parse_krb5_options): Likewise.
	* src/print_module.c (print_module_krb5_int): Likewise.
	* src/write_config_account.c (write_config_account): Likewise.
	* src/write_config_auth.c (write_config_auth): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.
	* src/write_config_session.c (write_config_session): Likewise.

2006-08-25  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.8

	* src/pam-config.8.xml: Document pwcheck-no_obscure_checks
	and pam_apparmor.

	* src/pam-config.c: Add no_obscure_checks support for pam_pwcheck.
	* src/pam-config.h: Likewise.
	* src/load_config.c (parse_pwcheck_options): Likewise.
	* src/load_obsolete_conf.c (parse_option_pwcheck): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.

	* src/print_module.c (print_module_pwcheck): Fix typo, add
	no_obscure_checks.

	* src/pam-config.c (main): Add support for LUM.
	(main): Fix seg.fault if only --debug is given.

	* src/pam-config.h: Likewise.
	* src/load_config.c (load_config): Likewise.
	* src/write_config_account.c (write_config_account): Likewise.
	* src/write_config_auth.c (write_config_auth): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.
	* src/write_config_session.c (write_config_session): Likewise.

2006-08-24  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.7

	* src/write_config_auth.c (write_config_auth): Fix typo when
	writing pam_krb5 rule.

	* src/load_config.c (load_config): Add pam_apparmor support.
	* src/write_config_session.c (write_config_session): Likewise.
	* src/pam-config.h: Likewise.
	* src/pam-config.c (main): Likewise.

	* src/pam-config.h: Add cracklib_retry.
	* src/pam-config.c: Likewise.
	* src/load_config.c (parse_cracklib_options): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.

	* src/load_config.c (load_config): Ignore pam_localuser.so.

	* src/write_config_account.c (write_config_account): Fix stacking of
	pam_unix2 with pam_ldap.

	* src/write_config_password.c (write_config_password): Make
	pam_pwcheck and pam_cracklib requisite, so that no other module
	changes the password.

2006-08-23  Thorsten Kukuk  <kukuk@thkukuk.de>

	* src/write_config_account.c (write_config_account):
	Fix stacking of pam_unix2 with pam_ldap and pam_krb5.

	* src/write_config_password.c (write_config_password): Write
	rules for pam_cracklib, abort if pam_pwcheck of pam_cracklib
	fails.

	* src/print_module.c (print_module_cracklib): New function.

	* src/pam-config.c (main): Add support for pam_cracklib.
	* src/pam-config.h: Likewise.
	* src/load_config.c: Likewise.

	* src/sanity_checks.c (sanitize_check_password): Check for
	pam_cracklib and pam_pwcheck at the same time.

	* COPYING: Fix content

2006-08-23  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.6

	* src/print_module.c: New file.
	* src/load_config.c: Remove obsolete options.
	* src/load_obsolete_conf.c: Likewise.
	* src/pam-config.c: Implement --query option for YaST2.
	* src/pam-config.h: Update prototypes.
	* src/write_config_password.c: Remove obsolete options,
	fix stacking of modules.
	* src/pam-config.8.xml: Document --query.

2006-08-22  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.5

	* src/pam-config.c (main): Implement --update, fix return value.

	* src/sanity_checks.c (check_for_pam_module): Implement
	force option.

	* src/pam-config.c (main): Call check_for_pam_module with
	force argument.

	* src/pam-config.8.xml: Document -f position in args.

	* src/write_config_account.c (write_config_account): Use
	account, not auth.

2006-08-22  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.4

	* src/sanity_checks.c (check_for_pam_module): New check.
	* src/pam-config.c (main): Check if freshly added modules
	are installed.

2006-08-21  Thorsten Kukuk  <kukuk@thkukuk.de>

	* src/sanity_checks.c: New, add sanity checks for auth and
	password section.

	* src/pam-config.c (main): Add ccreds support.
	* src/pam-config.h: Likewise.
	* src/write_config_auth.c (write_config_auth): Likewise.
	* src/load_config.c (load_config): Likewise.

	* src/pam-config.c (main): Add pkcs11 support.
	* src/pam-config.h: Likewise.
	* src/write_config_auth.c (write_config_auth): Likewise.
	* src/load_config.c (load_config): Likewise.

	* src/pam-config.8.xml: Document ccreds and pkcs11 support.

2006-08-21  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.3.

	* src/load_obsolete_conf.c (parse_option_unix2): Parse krb5, ldap
	and call_modules options.

	* src/pam-config.c (main): Add ldap and krb5 options.

	* src/load_config.c (load_config): Parse krb5 and ldap entries.

	* src/write_config_auth.c (write_config_auth): Add ldap and krb5
	support.
	* src/write_config_password.c (write_config_password): Likewise.
	* src/write_config_session.c (write_config_session): Likewise.

	* src/pam-config.8.xml: Document ldap and krb5 options.

2006-08-21  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.2

	* src/pam-config.8.xml: Add all current implementations.

	* src/pam-config.c (main): Add --force option.

2006-08-20  Thorsten Kukuk  <kukuk@thkukuk.de>

	* initial release 0.1
