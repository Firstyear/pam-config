2007-07-02  Thorsten Kukuk  <kukuk@suse.de>

	* src/Makefile.am: Add mod_pam_krb5.
	* src/supported-modules.h: Likewise.
	* src/mod_pam_cracklib.c: New.
	* src/pam-config.c (main):

	* src/mod_pam_krb5.c: New.
	* src/pam-config.c (main): Convert pam_krb5 entries.
	* src/Makefile.am: Add mod_pam_krb5.
	* src/supported-modules.h: Add mod_pam_krb5.

	* src/mod_pam_localuser.c: Implement write function.

	* src/load_obsolete_conf.c: Convert for new interface.

	* src/pam-config.c (main): Convert pam_limits entries.
	* src/mod-pam_limits.c: new.

2007-06-29  Thorsten Kukuk  <kukuk@suse.de>

	* src/mod_pam_env.c: New.
	* src/pam-config.8.xml: Document new pam_nev options.
	* src/pam-config.c (main): Add new pam_env options.

	* src/mod_pam_pwcheck.c: New.
	* src/pam-config.8.xml: Document enforce_for_root option.
	* src/pam-config.c (main): Convert pwcheck options.

	* src/pam-module.h: Add more defines for more options.

	* src/mod_pam_localuser.c: New.

	* src/mod_pam_winbind.c: New.
	* src/supported-modules.h: Add mod_pam_winbind.
	* src/pam-config.c (main): Convert winbind options.
	* src/Makefile.am: Add mod_pam_winbind.c.

	* src/pam-config.c (main): Add --umask-umask option.
	* src/pam-config.8.xml: Document --umask-umask option.
	* src/mod_pam_umask.c: Support umask option.

	* src/pam-module.h (DECLARE_STRING_OPTS_2): Added.

	* src/pam-config.c (main): Support umask and skel for pam_mkhomedir.
	* src/mod_pam_mkhomedir.c: Likewise.

	* src/pam-config.8.xml: Document new pam_mkhomedir options.

2007-06-28  Thorsten Kukuk  <kukuk@suse.de>
	    Sven Schober  <sschober@suse.de>

	* */*: Massive changes for new internal interface.

2007-06-14  Thorsten Kukuk  <kukuk@suse.de>

	* src/load_config.c (print_unknown_option_error): New function
	to simplify translations.

2007-01-29  Thorsten Kukuk  <kukuk@suse.de>

	* src/pam-config.8.xml: Remove NIS references.

2007-01-29  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.15

	* src/pam-config.c (main): Fix -d usage for pwcheck-minlen.
	* src/pam-config.8.xml: Remove --pam_pwcheck-no_minlen.

2007-01-26  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.14

	* src/pam-config.c (main): Allow minlen=0 as pam_pwcheck.so
	option.
	* src/print_module.c (print_module_pwcheck): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.
	* src/pam-config.h: Likewise.

	* src/pam-config.8.xml: Document --pam_pwcheck-no_minlen.

	* src/pam-config.c (main): Support ignore_unknown_principals
	option of pam_krb5.
	* src/pam-config.h: Likewise.
	* src/write_config_account.c (write_config_account): Likewise.
	* src/load_config.c (parse_krb5_options): Likewise.

	* src/pam-config.8.xml: Document new pam_krb5 options.

2006-10-25  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.13

	* src/print_module.c (print_module_cracklib): Fix typo.

	* src/pam-config.h: Add support for pam_capability.
	* src/pam-config.c (main): Likewise.
	* src/print_module.c (print_module_capability): Likewise.
	* src/load_config.c (load_config): Likewise.
	* src/pam-config.8.xml: Likewise.

	* src/write_config_session.c: Make pam_apparmor optional
	[Fate#300510].
	(write_config_session): Write pam_capability entry.

2006-09-20  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.12

	* src/sanity_checks.c (sanitize_check_password): Don't ignore
	debug flag if convert from pam_cracklib to pam_pwcheck.

2006-09-14  Thorsten Kukuk  <kukuk@suse.de>

	* release version 0.11

	* src/write_config_session.c (write_config_session): Add support
	for pam_umask.so.
	* src/pam-config.h: Likewise.
	* src/pam-config.c: Likewise.
	* src/pam-config.8.xml: Likewise.
	* src/load_config.c (parse_umask_options): New.
	* src/print_module.c (print_module_umask): New.

	* src/write_config_account.c (write_config_account): In combination
	with pam_ldap, USER_UNKNOWN of pam_krb5 should be ignored.

2006-09-05  Thorsten Kukuk  <kukuk@suse.de>

	* src/pam-config.c (main): Fix first openlog argument.

2006-08-31  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.10

	* src/load_obsolete_conf.c: Don't report error for empty
	arguments.

2006-08-26  Thorsten Kukuk  <kukuk@thkukuk.de>

	* src/pam-config.8.xml: Document --lum, --cracklib* and
	--winbind* options.

	* src/load_obsolete_conf.c (load_obsolete_conf): Check for
	.rpmsave files if original ones are already removed.

2006-08-25  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.9

	* src/pam-config.c (main): Add support for pam_winbind.so.
	* src/pam-config.h: Likewise.
	* src/load_config.c: Likewise.
	* src/load_obsolete_conf.c (parse_option_unix2): Likewise.
	* src/pam-config.h (print_module_winbind): Likewise.
	* src/print_module.c (print_module_winbind): Likewise.
	* src/write_config_auth.c (write_config_auth): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.
	* src/write_config_session.c (write_config_session): Likewise.
	* src/write_config_account.c (write_config_account): Likewise.

	* src/load_obsolete_conf.c (parse_option_unix2): Handle krb5afs
	as krb5.

	* src/pam-config.c (main): Add minimum_uid for krb5.
	* src/pam-config.h: Likewise.
	* src/load_config.c (parse_krb5_options): Likewise.
	* src/print_module.c (print_module_krb5_int): Likewise.
	* src/write_config_account.c (write_config_account): Likewise.
	* src/write_config_auth.c (write_config_auth): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.
	* src/write_config_session.c (write_config_session): Likewise.

2006-08-25  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.8

	* src/pam-config.8.xml: Document pwcheck-no_obscure_checks
	and pam_apparmor.

	* src/pam-config.c: Add no_obscure_checks support for pam_pwcheck.
	* src/pam-config.h: Likewise.
	* src/load_config.c (parse_pwcheck_options): Likewise.
	* src/load_obsolete_conf.c (parse_option_pwcheck): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.

	* src/print_module.c (print_module_pwcheck): Fix typo, add
	no_obscure_checks.

	* src/pam-config.c (main): Add support for LUM.
	(main): Fix seg.fault if only --debug is given.

	* src/pam-config.h: Likewise.
	* src/load_config.c (load_config): Likewise.
	* src/write_config_account.c (write_config_account): Likewise.
	* src/write_config_auth.c (write_config_auth): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.
	* src/write_config_session.c (write_config_session): Likewise.

2006-08-24  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.7

	* src/write_config_auth.c (write_config_auth): Fix typo when
	writing pam_krb5 rule.

	* src/load_config.c (load_config): Add pam_apparmor support.
	* src/write_config_session.c (write_config_session): Likewise.
	* src/pam-config.h: Likewise.
	* src/pam-config.c (main): Likewise.

	* src/pam-config.h: Add cracklib_retry.
	* src/pam-config.c: Likewise.
	* src/load_config.c (parse_cracklib_options): Likewise.
	* src/write_config_password.c (write_config_password): Likewise.

	* src/load_config.c (load_config): Ignore pam_localuser.so.

	* src/write_config_account.c (write_config_account): Fix stacking of
	pam_unix2 with pam_ldap.

	* src/write_config_password.c (write_config_password): Make
	pam_pwcheck and pam_cracklib requisite, so that no other module
	changes the password.

2006-08-23  Thorsten Kukuk  <kukuk@thkukuk.de>

	* src/write_config_account.c (write_config_account):
	Fix stacking of pam_unix2 with pam_ldap and pam_krb5.

	* src/write_config_password.c (write_config_password): Write
	rules for pam_cracklib, abort if pam_pwcheck of pam_cracklib
	fails.

	* src/print_module.c (print_module_cracklib): New function.

	* src/pam-config.c (main): Add support for pam_cracklib.
	* src/pam-config.h: Likewise.
	* src/load_config.c: Likewise.

	* src/sanity_checks.c (sanitize_check_password): Check for
	pam_cracklib and pam_pwcheck at the same time.

	* COPYING: Fix content

2006-08-23  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.6

	* src/print_module.c: New file.
	* src/load_config.c: Remove obsolete options.
	* src/load_obsolete_conf.c: Likewise.
	* src/pam-config.c: Implement --query option for YaST2.
	* src/pam-config.h: Update prototypes.
	* src/write_config_password.c: Remove obsolete options,
	fix stacking of modules.
	* src/pam-config.8.xml: Document --query.

2006-08-22  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.5

	* src/pam-config.c (main): Implement --update, fix return value.

	* src/sanity_checks.c (check_for_pam_module): Implement
	force option.

	* src/pam-config.c (main): Call check_for_pam_module with
	force argument.

	* src/pam-config.8.xml: Document -f position in args.

	* src/write_config_account.c (write_config_account): Use
	account, not auth.

2006-08-22  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.4

	* src/sanity_checks.c (check_for_pam_module): New check.
	* src/pam-config.c (main): Check if freshly added modules
	are installed.

2006-08-21  Thorsten Kukuk  <kukuk@thkukuk.de>

	* src/sanity_checks.c: New, add sanity checks for auth and
	password section.

	* src/pam-config.c (main): Add ccreds support.
	* src/pam-config.h: Likewise.
	* src/write_config_auth.c (write_config_auth): Likewise.
	* src/load_config.c (load_config): Likewise.

	* src/pam-config.c (main): Add pkcs11 support.
	* src/pam-config.h: Likewise.
	* src/write_config_auth.c (write_config_auth): Likewise.
	* src/load_config.c (load_config): Likewise.

	* src/pam-config.8.xml: Document ccreds and pkcs11 support.

2006-08-21  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.3.

	* src/load_obsolete_conf.c (parse_option_unix2): Parse krb5, ldap
	and call_modules options.

	* src/pam-config.c (main): Add ldap and krb5 options.

	* src/load_config.c (load_config): Parse krb5 and ldap entries.

	* src/write_config_auth.c (write_config_auth): Add ldap and krb5
	support.
	* src/write_config_password.c (write_config_password): Likewise.
	* src/write_config_session.c (write_config_session): Likewise.

	* src/pam-config.8.xml: Document ldap and krb5 options.

2006-08-21  Thorsten Kukuk  <kukuk@thkukuk.de>

	* release version 0.2

	* src/pam-config.8.xml: Add all current implementations.

	* src/pam-config.c (main): Add --force option.

2006-08-20  Thorsten Kukuk  <kukuk@thkukuk.de>

	* initial release 0.1
